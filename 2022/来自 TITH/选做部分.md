# 2022 WTR 招新试题集（选做部分）

## 选做部分：RTOS

### 基础

请简要回答以下问题。

- 之前是否有多线程开发经验？是否使用过 RTOS (实时操作系统)？用的是哪款？
- 对于单核 MCU，同一时刻只能执行一条指令。在使用 RTOS 后，多个同优先级线程是如何实现并行运行的？
- 列举出 3 个将运行中的线程阻塞的方法。

### 线程安全

请简要回答以下问题。

-   多个线程同时访问同一个全局变量时，以下哪些情况需要考虑线程安全？
    1.  所有线程都只读取该变量
    2.  只有一个线程会写入该变量，其他线程只读取该变量
    3.  所有线程都会读写该变量

-   多个线程同时读写单个 int8_t 类型的全局变量时，是否需要考虑线程安全问题？为什么？

-   多个线程需要读写同一个全局变量时，怎样保证线程安全？

-   有两个优先级相同的线程循环调用同一个函数（如下），其中一个线程调用 `AccumulativeAdd(1)` 1000000 次，另一个线程调用 `AccumulativeAdd(2)` 1000000次。若两个线程同时启动，当它们都执行完毕后，`AccumulativeAdd` 中的变量 previous 是否一定为 3000000？为什么？

	```c
	int AccumulativeAdd(int num)
	{
		static int previous = 0;
		previous = previous + num;
		return previous;
	}
	```
